# Printer-terminal

上世纪六七十年代，基于电传打字机的文本终端非常流行，它们从实体键盘接受输入，并将输出“print”到打印纸上。如今，电传打字机终端已被分体的键盘和轻薄的屏幕替代，但如果你有一台针式打印机，你仍能享受到这份乐趣。我购买了一台 IBM 5152，是最初代 IBM PC 5150 的配套打印机。我为它编写了这个程序，将它变成了一台终端。因为我只有这一台打印机，某些特定的功能可能不适用于其他打印机（比如缓存策略），如果发现它在你的打印机上工作得很奇怪，请提个 Issue 吧。

**注意：这个项目刚刚开始，只有部分功能完成，它尚缺乏数个重要功能——例如 VT 控制字符转译与更好的异步处理——这个程序还不能正常运作。**

Printer-terminal 是一个模拟终端程序，它从键盘获取输入发送给命令行进程（比如 Shell 程序），然后向打印机发送进程的输出。在这个过程中，它将会把键盘输入中的某些控制字符处理成信号发送给程序，并将输出中的VT控制符转译成 ESC/POS 控制符。由于其使用了 Windows ConPTY API ，所以无法在 Windows  10 1809 前的 Windows 上运行。

因为我没有运行在实机上的 Linux 或其他任何 POSIX 兼容操作系统，所以我只为 Windows 编写了这个。将考虑在未来提供 Linux 兼容的代码。

#### 运行

整个pull下来,然后用VS打开 sIn , 编译运行吧。注意，请把 Printer_IO.cpp/PRINTERNAME 宏定义的的打印机名字改成你自己的打印机名。